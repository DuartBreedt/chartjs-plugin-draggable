/*!
 * chartjs-plugin-draggable.js
 * http://chartjs.org/
 * Version: 0.1.3
 * 
 * Copyright 2016 Jonathon Hill
 * Released under the MIT license
 * https://github.com/compwright/chartjs-plugin-draggable/blob/master/LICENSE.md
 */
!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i=r(o),u=n(2),a=n(6),c=new u.ChartjsDraggablePlugin([a.DraggableAnnotationAccessor]);i.default.pluginService.register(c),e.default=c},function(t,e){t.exports=Chart},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){return function(){return t.draggable.draggables=e.map(function(e){return e.getElements(t)}).reduce(function(t,e){return t.concat(e)},[]).filter(function(t){return t.isInBox(s.event,10)}),t.draggable.draggables.length>0}}function i(t){return function(){return t.draggable.draggables[0]}}function u(t,e){return function(){return t().dispatch(e,s.event)}}Object.defineProperty(e,"__esModule",{value:!0}),e.ChartjsDraggablePlugin=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(3),s=n(5);e.ChartjsDraggablePlugin=function(){function t(e){r(this,t),this.accessors=e.filter(function(t){return t.isSupported()})}return a(t,[{key:"afterInit",value:function(t){t.draggable={};var e=i(t);(0,s.select)(t.chart.canvas).call((0,c.drag)().container(t.chart.canvas).filter(o(t,this.accessors)).subject(e).on("start",u(e,"onDragStart")).on("drag",u(e,"onDrag")).on("end",u(e,"onDragEnd")))}}]),t}()},function(t,e,n){!function(t,r){r(e,n(4),n(5))}(this,function(t,e,n){"use strict";function r(){n.event.stopImmediatePropagation()}function o(){n.event.preventDefault(),n.event.stopImmediatePropagation()}function i(t){var e=t.document.documentElement,r=n.select(t).on("dragstart.drag",o,!0);"onselectstart"in e?r.on("selectstart.drag",o,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function u(t,e){var r=t.document.documentElement,i=n.select(t).on("dragstart.drag",null);e&&(i.on("click.drag",o,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function a(t){return function(){return t}}function c(t,e,n,r,o,i,u,a,c,s){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=o,this.x=i,this.y=u,this.dx=a,this.dy=c,this._=s}function s(){return!n.event.button}function l(){return this.parentNode}function f(t){return null==t?{x:n.event.x,y:n.event.y}:t}function h(){function t(t){t.on("mousedown.drag",h).on("touchstart.drag",g).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",d).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(){if(!w&&b.apply(this,arguments)){var t=_("mouse",x.apply(this,arguments),n.mouse,this,arguments);t&&(n.select(n.event.view).on("mousemove.drag",p,!0).on("mouseup.drag",v,!0),i(n.event.view),r(),m=!1,t("start"))}}function p(){o(),m=!0,A.mouse("drag")}function v(){n.select(n.event.view).on("mousemove.drag mouseup.drag",null),u(n.event.view,m),o(),A.mouse("end")}function g(){if(b.apply(this,arguments)){var t,e,o=n.event.changedTouches,i=x.apply(this,arguments),u=o.length;for(t=0;t<u;++t)(e=_(o[t].identifier,i,n.touch,this,arguments))&&(r(),e("start"))}}function y(){var t,e,r=n.event.changedTouches,i=r.length;for(t=0;t<i;++t)(e=A[r[t].identifier])&&(o(),e("drag"))}function d(){var t,e,o=n.event.changedTouches,i=o.length;for(w&&clearTimeout(w),w=setTimeout(function(){w=null},500),t=0;t<i;++t)(e=A[o[t].identifier])&&(r(),e("end"))}function _(e,r,o,i,u){var a,s,l,f=o(r,e),h=P.copy();if(n.customEvent(new c(t,"beforestart",a,e,O,f[0],f[1],0,0,h),function(){return null!=(n.event.subject=a=E.apply(i,u))&&(s=a.x-f[0]||0,l=a.y-f[1]||0,!0)}))return function p(v){var g,y=f;switch(v){case"start":A[e]=p,g=O++;break;case"end":delete A[e],--O;case"drag":f=o(r,e),g=O}n.customEvent(new c(t,v,a,e,g,f[0]+s,f[1]+l,f[0]-y[0],f[1]-y[1],h),h.apply,h,[v,i,u])}}var m,w,b=s,x=l,E=f,A={},P=e.dispatch("start","drag","end"),O=0;return t.filter=function(e){return arguments.length?(b="function"==typeof e?e:a(!!e),t):b},t.container=function(e){return arguments.length?(x="function"==typeof e?e:a(e),t):x},t.subject=function(e){return arguments.length?(E="function"==typeof e?e:a(e),t):E},t.on=function(){var e=P.on.apply(P,arguments);return e===P?t:e},t}c.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t},t.drag=h,t.dragDisable=i,t.dragEnable=u,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(){for(var t,e=0,r=arguments.length,o={};e<r;++e){if(!(t=arguments[e]+"")||t in o)throw new Error("illegal type: "+t);o[t]=[]}return new n(o)}function n(t){this._=t}function r(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function o(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}function i(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=u,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}var u={value:function(){}};n.prototype=e.prototype={constructor:n,on:function(t,e){var n,u=this._,a=r(t+"",u),c=-1,s=a.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++c<s;)if(n=(t=a[c]).type)u[n]=i(u[n],t.name,e);else if(null==e)for(n in u)u[n]=i(u[n],t.name,null);return this}for(;++c<s;)if((n=(t=a[c]).type)&&(n=o(u[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new n(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],i=0,n=r.length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}},t.dispatch=e,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Ut.hasOwnProperty(e)?{space:Ut[e],local:t}:t}function n(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Rt&&e.documentElement.namespaceURI===Rt?e.createElement(t):e.createElementNS(n,t)}}function r(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function o(t){var o=e(t);return(o.local?r:n)(o)}function i(){return new u}function u(){this._="@"+(++Ht).toString(36)}function a(t,e,n){return t=c(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function c(e,n,r){return function(o){var i=t.event;t.event=o;try{e.call(this,this.__data__,n,r)}finally{t.event=i}}}function s(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function l(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?e.length=o:delete this.__on}}}function f(t,e,n){var r=$t.hasOwnProperty(t.type)?a:c;return function(o,i,u){var a,c=this.__on,s=r(e,i,u);if(c)for(var l=0,f=c.length;l<f;++l)if((a=c[l]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=n),void(a.value=e);this.addEventListener(t.type,s,n),a={type:t.type,name:t.name,value:e,listener:s,capture:n},c?c.push(a):this.__on=[a]}}function h(t,e,n){var r,o,i=s(t+""),u=i.length;{if(!(arguments.length<2)){for(a=e?f:l,null==n&&(n=!1),r=0;r<u;++r)this.each(a(i[r],e,n));return this}var a=this.node().__on;if(a)for(var c,h=0,p=a.length;h<p;++h)for(r=0,c=a[h];r<u;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value}}function p(e,n,r,o){var i=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(r,o)}finally{t.event=i}}function v(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n}function g(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function y(t){var e=v();return e.changedTouches&&(e=e.changedTouches[0]),g(t,e)}function d(){}function _(t){return null==t?d:function(){return this.querySelector(t)}}function m(t){"function"!=typeof t&&(t=_(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,u,a=e[o],c=a.length,s=r[o]=new Array(c),l=0;l<c;++l)(i=a[l])&&(u=t.call(i,i.__data__,l,a))&&("__data__"in i&&(u.__data__=i.__data__),s[l]=u);return new Lt(r,this._parents)}function w(){return[]}function b(t){return null==t?w:function(){return this.querySelectorAll(t)}}function x(t){"function"!=typeof t&&(t=b(t));for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var u,a=e[i],c=a.length,s=0;s<c;++s)(u=a[s])&&(r.push(t.call(u,u.__data__,s,a)),o.push(u));return new Lt(r,o)}function E(t){"function"!=typeof t&&(t=Ft(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,u=e[o],a=u.length,c=r[o]=[],s=0;s<a;++s)(i=u[s])&&t.call(i,i.__data__,s,u)&&c.push(i);return new Lt(r,this._parents)}function A(t){return new Array(t.length)}function P(){return new Lt(this._enter||this._groups.map(A),this._parents)}function O(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function S(t){return function(){return t}}function j(t,e,n,r,o,i){for(var u,a=0,c=e.length,s=i.length;a<s;++a)(u=e[a])?(u.__data__=i[a],r[a]=u):n[a]=new O(t,i[a]);for(;a<c;++a)(u=e[a])&&(o[a]=u)}function k(t,e,n,r,o,i,u){var a,c,s,l={},f=e.length,h=i.length,p=new Array(f);for(a=0;a<f;++a)(c=e[a])&&(p[a]=s=Kt+u.call(c,c.__data__,a,e),s in l?o[a]=c:l[s]=c);for(a=0;a<h;++a)s=Kt+u.call(t,i[a],a,i),(c=l[s])?(r[a]=c,c.__data__=i[a],l[s]=null):n[a]=new O(t,i[a]);for(a=0;a<f;++a)(c=e[a])&&l[p[a]]===c&&(o[a]=c)}function D(t,e){if(!t)return p=new Array(this.size()),s=-1,this.each(function(t){p[++s]=t}),p;var n=e?k:j,r=this._parents,o=this._groups;"function"!=typeof t&&(t=S(t));for(var i=o.length,u=new Array(i),a=new Array(i),c=new Array(i),s=0;s<i;++s){var l=r[s],f=o[s],h=f.length,p=t.call(l,l&&l.__data__,s,r),v=p.length,g=a[s]=new Array(v),y=u[s]=new Array(v),d=c[s]=new Array(h);n(l,f,g,y,d,p,e);for(var _,m,w=0,b=0;w<v;++w)if(_=g[w]){for(w>=b&&(b=w+1);!(m=y[b])&&++b<v;);_._next=m||null}}return u=new Lt(u,r),u._enter=a,u._exit=c,u}function T(){return new Lt(this._exit||this._groups.map(A),this._parents)}function M(t){for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),u=new Array(r),a=0;a<i;++a)for(var c,s=e[a],l=n[a],f=s.length,h=u[a]=new Array(f),p=0;p<f;++p)(c=s[p]||l[p])&&(h[p]=c);for(;a<r;++a)u[a]=e[a];return new Lt(u,this._parents)}function C(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,u=o[i];--i>=0;)(r=o[i])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this}function N(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=L);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var u,a=n[i],c=a.length,s=o[i]=new Array(c),l=0;l<c;++l)(u=a[l])&&(s[l]=u);s.sort(e)}return new Lt(o,this._parents).order()}function L(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function B(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function V(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function I(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var u=r[o];if(u)return u}return null}function q(){var t=0;return this.each(function(){++t}),t}function z(){return!this.node()}function R(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],u=0,a=i.length;u<a;++u)(o=i[u])&&t.call(o,o.__data__,u,i);return this}function U(t){return function(){this.removeAttribute(t)}}function H(t){return function(){this.removeAttributeNS(t.space,t.local)}}function X(t,e){return function(){this.setAttribute(t,e)}}function G(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Y(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function F(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function $(t,n){var r=e(t);if(arguments.length<2){var o=this.node();return r.local?o.getAttributeNS(r.space,r.local):o.getAttribute(r)}return this.each((null==n?r.local?H:U:"function"==typeof n?r.local?F:Y:r.local?G:X)(r,n))}function J(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function K(t){return function(){this.style.removeProperty(t)}}function Q(t,e,n){return function(){this.style.setProperty(t,e,n)}}function W(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Z(t,e,n){var r;return arguments.length>1?this.each((null==e?K:"function"==typeof e?W:Q)(t,e,null==n?"":n)):J(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)}function tt(t){return function(){delete this[t]}}function et(t,e){return function(){this[t]=e}}function nt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function rt(t,e){return arguments.length>1?this.each((null==e?tt:"function"==typeof e?nt:et)(t,e)):this.node()[t]}function ot(t){return t.trim().split(/^|\s+/)}function it(t){return t.classList||new ut(t)}function ut(t){this._node=t,this._names=ot(t.getAttribute("class")||"")}function at(t,e){for(var n=it(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function ct(t,e){for(var n=it(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function st(t){return function(){at(this,t)}}function lt(t){return function(){ct(this,t)}}function ft(t,e){return function(){(e.apply(this,arguments)?at:ct)(this,t)}}function ht(t,e){var n=ot(t+"");if(arguments.length<2){for(var r=it(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?ft:e?st:lt)(n,e))}function pt(){this.textContent=""}function vt(t){return function(){this.textContent=t}}function gt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function yt(t){return arguments.length?this.each(null==t?pt:("function"==typeof t?gt:vt)(t)):this.node().textContent}function dt(){this.innerHTML=""}function _t(t){return function(){this.innerHTML=t}}function mt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function wt(t){return arguments.length?this.each(null==t?dt:("function"==typeof t?mt:_t)(t)):this.node().innerHTML}function bt(){this.nextSibling&&this.parentNode.appendChild(this)}function xt(){return this.each(bt)}function Et(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function At(){return this.each(Et)}function Pt(t){var e="function"==typeof t?t:o(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Ot(){return null}function St(t,e){var n="function"==typeof t?t:o(t),r=null==e?Ot:"function"==typeof e?e:_(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function jt(){var t=this.parentNode;t&&t.removeChild(this)}function kt(){return this.each(jt)}function Dt(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Tt(t,e,n){var r=J(t),o=r.CustomEvent;o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Mt(t,e){return function(){return Tt(this,t,e)}}function Ct(t,e){return function(){return Tt(this,t,e.apply(this,arguments))}}function Nt(t,e){return this.each(("function"==typeof e?Ct:Mt)(t,e))}function Lt(t,e){this._groups=t,this._parents=e}function Bt(){return new Lt([[document.documentElement]],Qt)}function Vt(t){return"string"==typeof t?new Lt([[document.querySelector(t)]],[document.documentElement]):new Lt([[t]],Qt)}function It(t){return"string"==typeof t?new Lt([document.querySelectorAll(t)],[document.documentElement]):new Lt([null==t?[]:t],Qt)}function qt(t,e,n){arguments.length<3&&(n=e,e=v().changedTouches);for(var r,o=0,i=e?e.length:0;o<i;++o)if((r=e[o]).identifier===n)return g(t,r);return null}function zt(t,e){null==e&&(e=v().touches);for(var n=0,r=e?e.length:0,o=new Array(r);n<r;++n)o[n]=g(t,e[n]);return o}var Rt="http://www.w3.org/1999/xhtml",Ut={svg:"http://www.w3.org/2000/svg",xhtml:Rt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ht=0;u.prototype=i.prototype={constructor:u,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Xt=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Gt=document.documentElement;if(!Gt.matches){var Yt=Gt.webkitMatchesSelector||Gt.msMatchesSelector||Gt.mozMatchesSelector||Gt.oMatchesSelector;Xt=function(t){return function(){return Yt.call(this,t)}}}}var Ft=Xt,$t={};if(t.event=null,"undefined"!=typeof document){var Jt=document.documentElement;"onmouseenter"in Jt||($t={mouseenter:"mouseover",mouseleave:"mouseout"})}O.prototype={constructor:O,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Kt="$";ut.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Qt=[null];Lt.prototype=Bt.prototype={constructor:Lt,select:m,selectAll:x,filter:E,data:D,enter:P,exit:T,merge:M,order:C,sort:N,call:B,nodes:V,node:I,size:q,empty:z,each:R,attr:$,style:Z,property:rt,classed:ht,text:yt,html:wt,raise:xt,lower:At,append:Pt,insert:St,remove:kt,datum:Dt,on:h,dispatch:Nt},t.creator=o,t.local=i,t.matcher=Ft,t.mouse=y,t.namespace=e,t.namespaces=Ut,t.select=Vt,t.selectAll=It,t.selection=Bt,t.selector=_,t.selectorAll=b,t.touch=qt,t.touches=zt,t.window=J,t.customEvent=p,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){(function(t){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DraggableAnnotationAccessor=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(7),c=n(9);e.DraggableAnnotationAccessor=function(e){function n(){return r(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,e),u(n,null,[{key:"isSupported",value:function(){return!!t.Annotation}},{key:"getElements",value:function(t){return a.DraggableElementAccessor.getElements(t,t._annotationObjects,t.options.annotation.annotations,function(t){switch(t.type){case"line":return c.DraggableLineAnnotationElement}})}}]),n}(a.DraggableElementAccessor)}).call(e,n(1))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.DraggableElementAccessor=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(8);e.DraggableElementAccessor=function(){function t(){r(this,t)}return o(t,null,[{key:"isSupported",value:function(){return!0}},{key:"getElements",value:function(t,e,n,r){var o="function"==typeof r?r:function(){return r};return e.map(function(e,r){var u=o(n[r])||i.DraggableElement;return new u(t,e,n[r])}).filter(function(t,e){return!!n[e].draggable})}}]),t}()},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){for(var e=t.target,n=0,r=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)n+=e.offsetLeft-e.scrollLeft,r+=e.offsetTop-e.scrollTop,e=e.offsetParent;return n=t.clientX-n,r=t.clientY-r,{x:n,y:r}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.DraggableElement=function(){function t(e,r,o){n(this,t),this.chart=e,this.element=r,this.config=o}return o(t,[{key:"getBox",value:function(t){return{x:[this.element._view.x-t,this.element._view.x+t],y:[this.element._view.y-t,this.element._view.y+t]}}},{key:"isInBox",value:function(t,e){var n=r(t),o=this.getBox(e||0);return n.x>=o.x[0]&&n.x<=o.x[1]&&n.y>=o.y[0]&&n.y<=o.y[1]}},{key:"_constrainValue",value:function(t,e){return"undefined"!=typeof t.min&&e<t.min?t.min:"undefined"!=typeof t.max&&e>t.max?t.max:e}},{key:"dispatch",value:function(t,e){"function"==typeof this[t]&&this[t](e),"function"==typeof this.config[t]&&this.config[t](e)}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.DraggableLineAnnotationElement=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(8);e.DraggableLineAnnotationElement=function(t){function e(t,n,i){r(this,e);var u=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i));return u.scale=u.chart.scales[i.scaleID],u}return i(e,t),u(e,[{key:"_getPixel",value:function(t){return this.scale.isHorizontal()?t.x:t.y}},{key:"_getValue",value:function(t){var e=this.offset||0;return this.scale.getValueForPixel(this._getPixel(t)-e)}},{key:"getBox",value:function(t){return{x:[this.element._view.x1-t,this.element._view.x2+t],y:[this.element._view.y1-t,this.element._view.y2+t]}}},{key:"onDragStart",value:function(t){this.offset=this._getPixel(t)-this.scale.getPixelForValue(this.config.value)}},{key:"onDrag",value:function(t){this.config.value=this._constrainValue(this.scale,this._getValue(t)),this.chart.update(0)}},{key:"onDragEnd",value:function(t){this.offset=void 0}}]),e}(a.DraggableElement)}]);